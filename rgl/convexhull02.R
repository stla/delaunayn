library(rgl)
setwd("C:/HaskellProjects/delaunayn/rgl")

colors <- rainbow(33, alpha=0.5)
segments3d(rbind(c(0.6,0.6,1.0), c(0.2,1.0,1.0)), color="black")
segments3d(rbind(c(0.3,0.0,0.0), c(0.0,0.1,0.4)), color="black")
segments3d(rbind(c(0.9,0.3,0.1), c(1.0,0.7,0.2)), color="black")
segments3d(rbind(c(0.6,0.7,0.1), c(1.0,0.7,0.2)), color="black")
segments3d(rbind(c(0.9,0.1,1.0), c(0.6,0.0,0.6)), color="black")
segments3d(rbind(c(1.0,0.0,0.1), c(0.9,0.1,1.0)), color="black")
segments3d(rbind(c(1.0,0.0,0.1), c(0.3,0.0,0.0)), color="black")
segments3d(rbind(c(0.9,0.1,1.0), c(1.0,0.6,0.9)), color="black")
segments3d(rbind(c(0.6,1.0,0.2), c(1.0,0.7,0.2)), color="black")
segments3d(rbind(c(1.0,0.7,0.2), c(1.0,0.9,0.7)), color="black")
segments3d(rbind(c(0.0,0.2,0.2), c(0.0,1.0,0.8)), color="black")
segments3d(rbind(c(0.0,0.2,0.2), c(0.1,0.7,0.1)), color="black")
segments3d(rbind(c(0.0,0.2,0.2), c(0.3,0.0,0.0)), color="black")
segments3d(rbind(c(0.0,1.0,0.8), c(0.1,0.9,1.0)), color="black")
segments3d(rbind(c(0.6,0.6,1.0), c(0.9,0.8,0.9)), color="black")
segments3d(rbind(c(0.9,0.3,0.1), c(0.6,0.7,0.1)), color="black")
segments3d(rbind(c(0.3,0.0,0.0), c(0.1,0.7,0.1)), color="black")
segments3d(rbind(c(0.9,0.3,0.1), c(0.3,0.0,0.0)), color="black")
segments3d(rbind(c(0.9,0.1,1.0), c(0.6,0.6,1.0)), color="black")
segments3d(rbind(c(1.0,0.0,0.1), c(1.0,0.7,0.2)), color="black")
segments3d(rbind(c(0.3,0.3,1.0), c(0.0,0.0,0.9)), color="black")
segments3d(rbind(c(0.0,0.0,0.9), c(0.0,0.1,0.4)), color="black")
segments3d(rbind(c(1.0,0.0,0.1), c(0.6,0.0,0.6)), color="black")
segments3d(rbind(c(1.0,0.0,0.1), c(1.0,0.6,0.9)), color="black")
segments3d(rbind(c(0.6,1.0,0.2), c(0.2,1.0,1.0)), color="black")
segments3d(rbind(c(0.2,1.0,0.1), c(0.3,0.0,0.0)), color="black")
segments3d(rbind(c(0.2,1.0,0.1), c(0.0,1.0,0.8)), color="black")
segments3d(rbind(c(0.2,1.0,0.1), c(0.6,0.7,0.1)), color="black")
segments3d(rbind(c(0.2,1.0,0.1), c(0.1,0.7,0.1)), color="black")
segments3d(rbind(c(0.0,1.0,0.8), c(0.0,0.0,0.9)), color="black")
segments3d(rbind(c(0.9,0.3,0.1), c(1.0,0.0,0.1)), color="black")
segments3d(rbind(c(0.3,0.0,0.0), c(0.0,0.0,0.9)), color="black")
segments3d(rbind(c(0.3,0.3,1.0), c(0.1,0.9,1.0)), color="black")
segments3d(rbind(c(0.1,0.9,1.0), c(0.2,1.0,1.0)), color="black")
segments3d(rbind(c(0.6,0.0,0.6), c(0.2,0.0,0.9)), color="black")
segments3d(rbind(c(0.2,1.0,0.1), c(0.6,1.0,0.2)), color="black")
segments3d(rbind(c(0.0,1.0,0.8), c(0.2,1.0,1.0)), color="black")
segments3d(rbind(c(0.0,1.0,0.8), c(0.1,0.7,0.1)), color="black")
segments3d(rbind(c(1.0,0.9,0.7), c(0.9,0.8,0.9)), color="black")
segments3d(rbind(c(1.0,0.6,0.9), c(1.0,0.9,0.7)), color="black")
segments3d(rbind(c(0.3,0.0,0.0), c(0.6,0.7,0.1)), color="black")
segments3d(rbind(c(0.0,0.0,0.9), c(0.2,0.0,0.9)), color="black")
segments3d(rbind(c(0.9,0.1,1.0), c(0.3,0.3,1.0)), color="black")
segments3d(rbind(c(0.9,0.1,1.0), c(0.9,0.8,0.9)), color="black")
segments3d(rbind(c(0.9,0.1,1.0), c(0.2,0.0,0.9)), color="black")
segments3d(rbind(c(0.9,0.1,1.0), c(0.0,0.0,0.9)), color="black")
segments3d(rbind(c(0.0,0.2,0.2), c(0.0,0.1,0.4)), color="black")
segments3d(rbind(c(0.1,0.9,1.0), c(0.0,0.0,0.9)), color="black")
segments3d(rbind(c(0.6,1.0,0.2), c(1.0,0.9,0.7)), color="black")
segments3d(rbind(c(1.0,0.9,0.7), c(0.2,1.0,1.0)), color="black")
segments3d(rbind(c(1.0,0.6,0.9), c(0.9,0.8,0.9)), color="black")
segments3d(rbind(c(0.2,1.0,1.0), c(0.9,0.8,0.9)), color="black")
triangles3d(rbind(c(0.2,1.0,0.1), c(0.3,0.0,0.0), c(0.1,0.7,0.1)), color=colors[1], alpha=1)
triangles3d(rbind(c(0.2,1.0,0.1), c(0.3,0.0,0.0), c(0.6,0.7,0.1)), color=colors[2], alpha=1)
triangles3d(rbind(c(0.9,0.1,1.0), c(0.3,0.3,1.0), c(0.0,0.0,0.9)), color=colors[3], alpha=1)
triangles3d(rbind(c(1.0,0.0,0.1), c(0.9,0.1,1.0), c(0.6,0.0,0.6)), color=colors[4], alpha=1)
triangles3d(rbind(c(0.0,0.2,0.2), c(0.3,0.0,0.0), c(0.1,0.7,0.1)), color=colors[5], alpha=1)
triangles3d(rbind(c(0.2,1.0,0.1), c(0.0,1.0,0.8), c(0.1,0.7,0.1)), color=colors[6], alpha=1)
triangles3d(rbind(c(1.0,0.0,0.1), c(0.9,0.1,1.0), c(1.0,0.6,0.9)), color=colors[7], alpha=1)
triangles3d(rbind(c(0.9,0.1,1.0), c(0.0,0.0,0.9), c(0.2,0.0,0.9)), color=colors[8], alpha=1)
triangles3d(rbind(c(0.9,0.1,1.0), c(0.6,0.0,0.6), c(0.2,0.0,0.9)), color=colors[9], alpha=1)
triangles3d(rbind(c(0.3,0.0,0.0), c(0.0,0.0,0.9), c(0.0,0.1,0.4)), color=colors[10], alpha=1)
triangles3d(rbind(c(0.0,0.2,0.2), c(0.3,0.0,0.0), c(0.0,0.1,0.4)), color=colors[11], alpha=1)
triangles3d(rbind(c(0.0,1.0,0.8), c(0.1,0.9,1.0), c(0.0,0.0,0.9)), color=colors[12], alpha=1)
triangles3d(rbind(c(0.3,0.3,1.0), c(0.1,0.9,1.0), c(0.0,0.0,0.9)), color=colors[13], alpha=1)
triangles3d(rbind(c(0.6,1.0,0.2), c(1.0,0.7,0.2), c(1.0,0.9,0.7)), color=colors[14], alpha=1)
triangles3d(rbind(c(0.9,0.3,0.1), c(1.0,0.0,0.1), c(1.0,0.7,0.2)), color=colors[15], alpha=1)
triangles3d(rbind(c(0.9,0.3,0.1), c(0.6,0.7,0.1), c(1.0,0.7,0.2)), color=colors[16], alpha=1)
triangles3d(rbind(c(0.9,0.3,0.1), c(1.0,0.0,0.1), c(0.3,0.0,0.0)), color=colors[17], alpha=1)
triangles3d(rbind(c(0.9,0.3,0.1), c(0.3,0.0,0.0), c(0.6,0.7,0.1)), color=colors[18], alpha=1)
triangles3d(rbind(c(0.0,1.0,0.8), c(0.1,0.9,1.0), c(0.2,1.0,1.0)), color=colors[19], alpha=1)
triangles3d(rbind(c(1.0,0.6,0.9), c(1.0,0.9,0.7), c(0.9,0.8,0.9)), color=colors[20], alpha=1)
triangles3d(rbind(c(1.0,0.9,0.7), c(0.2,1.0,1.0), c(0.9,0.8,0.9)), color=colors[21], alpha=1)
triangles3d(rbind(c(0.9,0.1,1.0), c(1.0,0.6,0.9), c(0.9,0.8,0.9)), color=colors[22], alpha=1)
triangles3d(rbind(c(0.9,0.1,1.0), c(0.6,0.6,1.0), c(0.9,0.8,0.9)), color=colors[23], alpha=1)
triangles3d(rbind(c(0.6,0.6,1.0), c(0.2,1.0,1.0), c(0.9,0.8,0.9)), color=colors[24], alpha=1)
triangles3d(rbind(c(0.0,0.2,0.2), c(0.0,1.0,0.8), c(0.1,0.7,0.1)), color=colors[25], alpha=1)
triangles3d(rbind(c(1.0,0.6,0.9), c(1.0,0.7,0.2), c(1.0,0.9,0.7)), color=colors[26], alpha=1)
triangles3d(rbind(c(1.0,0.0,0.1), c(1.0,0.6,0.9), c(1.0,0.7,0.2)), color=colors[26], alpha=1)
triangles3d(rbind(c(0.3,0.0,0.0), c(0.0,0.0,0.9), c(0.2,0.0,0.9)), color=colors[27], alpha=1)
triangles3d(rbind(c(1.0,0.0,0.1), c(0.3,0.0,0.0), c(0.2,0.0,0.9)), color=colors[27], alpha=1)
triangles3d(rbind(c(1.0,0.0,0.1), c(0.6,0.0,0.6), c(0.2,0.0,0.9)), color=colors[27], alpha=1)
triangles3d(rbind(c(0.0,1.0,0.8), c(0.0,0.0,0.9), c(0.0,0.1,0.4)), color=colors[28], alpha=1)
triangles3d(rbind(c(0.0,0.2,0.2), c(0.0,1.0,0.8), c(0.0,0.1,0.4)), color=colors[28], alpha=1)
triangles3d(rbind(c(0.6,1.0,0.2), c(0.6,0.7,0.1), c(1.0,0.7,0.2)), color=colors[29], alpha=1)
triangles3d(rbind(c(0.2,1.0,0.1), c(0.6,1.0,0.2), c(0.6,0.7,0.1)), color=colors[29], alpha=1)
triangles3d(rbind(c(0.2,1.0,0.1), c(0.6,1.0,0.2), c(0.2,1.0,1.0)), color=colors[30], alpha=1)
triangles3d(rbind(c(0.2,1.0,0.1), c(0.0,1.0,0.8), c(0.2,1.0,1.0)), color=colors[30], alpha=1)
triangles3d(rbind(c(0.6,1.0,0.2), c(1.0,0.9,0.7), c(0.2,1.0,1.0)), color=colors[31], alpha=1)
triangles3d(rbind(c(0.3,0.3,1.0), c(0.1,0.9,1.0), c(0.6,0.6,1.0)), color=colors[32], alpha=1)
triangles3d(rbind(c(0.9,0.1,1.0), c(0.3,0.3,1.0), c(0.6,0.6,1.0)), color=colors[32], alpha=1)
triangles3d(rbind(c(0.1,0.9,1.0), c(0.6,0.6,1.0), c(0.2,1.0,1.0)), color=colors[32], alpha=1)

M <- par3d("userMatrix")
movie3d(
  par3dinterp(
    time = seq(0, 1, len = 7),
    userMatrix = list(
      M,
      rotate3d(M, pi, 1, 0, 0),
      rotate3d(M, pi, 1, 1, 0),
      rotate3d(M, pi, 0, 1, 1),
      rotate3d(M, pi, 1, 0, 1),
      rotate3d(M, pi, 0, 0, 1),
      M
    )
  ),
  fps = 100,
  duration = 1,
  dir = ".",
  movie = "convexhull02",
  convert = "C:/PortableApps/ImageMagick/convert -loop 0 -delay 1x%d %s*.png %s.%s"
)
